{"ast":null,"code":"// src/use-shortcut.ts\nimport { useEffect, useRef, useState } from \"react\";\n\nfunction isPrintableCharacter(event) {\n  const {\n    key\n  } = event;\n  return key.length === 1 || key.length > 1 && /[^a-zA-Z0-9]/.test(key);\n}\n\nfunction useShortcut() {\n  let props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  const {\n    timeout = 300,\n    preventDefault = () => true\n  } = props;\n  const [keys, setKeys] = useState([]);\n  const timeoutRef = useRef();\n\n  const flush = () => {\n    if (timeoutRef.current) {\n      clearTimeout(timeoutRef.current);\n      timeoutRef.current = null;\n    }\n  };\n\n  const clearKeysAfterDelay = () => {\n    flush();\n    timeoutRef.current = setTimeout(() => {\n      setKeys([]);\n      timeoutRef.current = null;\n    }, timeout);\n  };\n\n  useEffect(() => flush, []);\n\n  function onKeyDown(fn) {\n    return event => {\n      if (event.key === \"Backspace\") {\n        const keysCopy = [...keys];\n        keysCopy.pop();\n        setKeys(keysCopy);\n        return;\n      }\n\n      if (isPrintableCharacter(event)) {\n        const keysCopy = keys.concat(event.key);\n\n        if (preventDefault(event)) {\n          event.preventDefault();\n          event.stopPropagation();\n        }\n\n        setKeys(keysCopy);\n        fn(keysCopy.join(\"\"));\n        clearKeysAfterDelay();\n      }\n    };\n  }\n\n  return onKeyDown;\n}\n\nexport { useShortcut };","map":{"version":3,"names":["useEffect","useRef","useState","isPrintableCharacter","event","key","length","test","useShortcut","props","timeout","preventDefault","keys","setKeys","timeoutRef","flush","current","clearTimeout","clearKeysAfterDelay","setTimeout","onKeyDown","fn","keysCopy","pop","concat","stopPropagation","join"],"sources":["C:/Purwadhika/JCWD Bandung/4. REAL PROJECT/JCWD0108-03/node_modules/@chakra-ui/hooks/dist/chunk-CLDV4JKZ.mjs"],"sourcesContent":["// src/use-shortcut.ts\nimport { useEffect, useRef, useState } from \"react\";\nfunction isPrintableCharacter(event) {\n  const { key } = event;\n  return key.length === 1 || key.length > 1 && /[^a-zA-Z0-9]/.test(key);\n}\nfunction useShortcut(props = {}) {\n  const { timeout = 300, preventDefault = () => true } = props;\n  const [keys, setKeys] = useState([]);\n  const timeoutRef = useRef();\n  const flush = () => {\n    if (timeoutRef.current) {\n      clearTimeout(timeoutRef.current);\n      timeoutRef.current = null;\n    }\n  };\n  const clearKeysAfterDelay = () => {\n    flush();\n    timeoutRef.current = setTimeout(() => {\n      setKeys([]);\n      timeoutRef.current = null;\n    }, timeout);\n  };\n  useEffect(() => flush, []);\n  function onKeyDown(fn) {\n    return (event) => {\n      if (event.key === \"Backspace\") {\n        const keysCopy = [...keys];\n        keysCopy.pop();\n        setKeys(keysCopy);\n        return;\n      }\n      if (isPrintableCharacter(event)) {\n        const keysCopy = keys.concat(event.key);\n        if (preventDefault(event)) {\n          event.preventDefault();\n          event.stopPropagation();\n        }\n        setKeys(keysCopy);\n        fn(keysCopy.join(\"\"));\n        clearKeysAfterDelay();\n      }\n    };\n  }\n  return onKeyDown;\n}\n\nexport {\n  useShortcut\n};\n"],"mappings":"AAAA;AACA,SAASA,SAAT,EAAoBC,MAApB,EAA4BC,QAA5B,QAA4C,OAA5C;;AACA,SAASC,oBAAT,CAA8BC,KAA9B,EAAqC;EACnC,MAAM;IAAEC;EAAF,IAAUD,KAAhB;EACA,OAAOC,GAAG,CAACC,MAAJ,KAAe,CAAf,IAAoBD,GAAG,CAACC,MAAJ,GAAa,CAAb,IAAkB,eAAeC,IAAf,CAAoBF,GAApB,CAA7C;AACD;;AACD,SAASG,WAAT,GAAiC;EAAA,IAAZC,KAAY,uEAAJ,EAAI;EAC/B,MAAM;IAAEC,OAAO,GAAG,GAAZ;IAAiBC,cAAc,GAAG,MAAM;EAAxC,IAAiDF,KAAvD;EACA,MAAM,CAACG,IAAD,EAAOC,OAAP,IAAkBX,QAAQ,CAAC,EAAD,CAAhC;EACA,MAAMY,UAAU,GAAGb,MAAM,EAAzB;;EACA,MAAMc,KAAK,GAAG,MAAM;IAClB,IAAID,UAAU,CAACE,OAAf,EAAwB;MACtBC,YAAY,CAACH,UAAU,CAACE,OAAZ,CAAZ;MACAF,UAAU,CAACE,OAAX,GAAqB,IAArB;IACD;EACF,CALD;;EAMA,MAAME,mBAAmB,GAAG,MAAM;IAChCH,KAAK;IACLD,UAAU,CAACE,OAAX,GAAqBG,UAAU,CAAC,MAAM;MACpCN,OAAO,CAAC,EAAD,CAAP;MACAC,UAAU,CAACE,OAAX,GAAqB,IAArB;IACD,CAH8B,EAG5BN,OAH4B,CAA/B;EAID,CAND;;EAOAV,SAAS,CAAC,MAAMe,KAAP,EAAc,EAAd,CAAT;;EACA,SAASK,SAAT,CAAmBC,EAAnB,EAAuB;IACrB,OAAQjB,KAAD,IAAW;MAChB,IAAIA,KAAK,CAACC,GAAN,KAAc,WAAlB,EAA+B;QAC7B,MAAMiB,QAAQ,GAAG,CAAC,GAAGV,IAAJ,CAAjB;QACAU,QAAQ,CAACC,GAAT;QACAV,OAAO,CAACS,QAAD,CAAP;QACA;MACD;;MACD,IAAInB,oBAAoB,CAACC,KAAD,CAAxB,EAAiC;QAC/B,MAAMkB,QAAQ,GAAGV,IAAI,CAACY,MAAL,CAAYpB,KAAK,CAACC,GAAlB,CAAjB;;QACA,IAAIM,cAAc,CAACP,KAAD,CAAlB,EAA2B;UACzBA,KAAK,CAACO,cAAN;UACAP,KAAK,CAACqB,eAAN;QACD;;QACDZ,OAAO,CAACS,QAAD,CAAP;QACAD,EAAE,CAACC,QAAQ,CAACI,IAAT,CAAc,EAAd,CAAD,CAAF;QACAR,mBAAmB;MACpB;IACF,CAjBD;EAkBD;;EACD,OAAOE,SAAP;AACD;;AAED,SACEZ,WADF"},"metadata":{},"sourceType":"module"}